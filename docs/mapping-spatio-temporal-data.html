<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Mapping Spatio Temporal Data | Spatio Temporal Statistics</title>
  <meta name="description" content="This is a gitbook for spatio temporal analysis." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Mapping Spatio Temporal Data | Spatio Temporal Statistics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a gitbook for spatio temporal analysis." />
  <meta name="github-repo" content="bohyunshin/spatio-temporal" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Mapping Spatio Temporal Data | Spatio Temporal Statistics" />
  
  <meta name="twitter:description" content="This is a gitbook for spatio temporal analysis." />
  

<meta name="author" content="BoHyun Shin" />


<meta name="date" content="2020-07-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="spatio-temporal-statistical-models.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Spatio Temporal Gitbook</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Being Familiar with STD</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Exploring Spatio Temporal Data</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#representation-of-spatio-temporal-data-in-r"><i class="fa fa-check"></i><b>1.1</b> Representation of Spatio Temporal Data in R</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#visualization-of-std"><i class="fa fa-check"></i><b>1.2</b> Visualization of STD</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#exploratory-analysis-of-std"><i class="fa fa-check"></i><b>1.3</b> Exploratory Analysis of STD</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#empirical-spatial-means-and-covariances"><i class="fa fa-check"></i><b>1.3.1</b> Empirical Spatial Means and Covariances</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#elements-of-point-referenced-modeling"><i class="fa fa-check"></i><b>1.3.2</b> Elements of point-referenced modeling</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro.html"><a href="intro.html#empirical-orthogonal-functions-eofs"><i class="fa fa-check"></i><b>1.3.3</b> Empirical Orthogonal Functions (EOFs)</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#wrap-up"><i class="fa fa-check"></i><b>1.4</b> Wrap up</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="mapping-spatio-temporal-data.html"><a href="mapping-spatio-temporal-data.html"><i class="fa fa-check"></i><b>2</b> Mapping Spatio Temporal Data</a><ul>
<li class="chapter" data-level="2.1" data-path="mapping-spatio-temporal-data.html"><a href="mapping-spatio-temporal-data.html#some-basic-class-regarding-spatio-temporal-data-in-r"><i class="fa fa-check"></i><b>2.1</b> Some basic class regarding spatio-temporal data in R</a><ul>
<li class="chapter" data-level="2.1.1" data-path="mapping-spatio-temporal-data.html"><a href="mapping-spatio-temporal-data.html#spatialpoints"><i class="fa fa-check"></i><b>2.1.1</b> SpatialPoints</a></li>
<li class="chapter" data-level="2.1.2" data-path="mapping-spatio-temporal-data.html"><a href="mapping-spatio-temporal-data.html#spatialpointsdataframe"><i class="fa fa-check"></i><b>2.1.2</b> SpatialPointsDataFrame</a></li>
<li class="chapter" data-level="2.1.3" data-path="mapping-spatio-temporal-data.html"><a href="mapping-spatio-temporal-data.html#polygons-and-spatialpolygons"><i class="fa fa-check"></i><b>2.1.3</b> Polygons and SpatialPolygons</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="mapping-spatio-temporal-data.html"><a href="mapping-spatio-temporal-data.html#mapping-data-in-r"><i class="fa fa-check"></i><b>2.2</b> Mapping data in R</a></li>
</ul></li>
<li class="part"><span><b>II Modeling Spatio-Temporal Data</b></span></li>
<li class="chapter" data-level="3" data-path="spatio-temporal-statistical-models.html"><a href="spatio-temporal-statistical-models.html"><i class="fa fa-check"></i><b>3</b> Spatio-Temporal Statistical Models</a><ul>
<li class="chapter" data-level="3.1" data-path="spatio-temporal-statistical-models.html"><a href="spatio-temporal-statistical-models.html#spatio-temporal-prediction"><i class="fa fa-check"></i><b>3.1</b> Spatio-Temporal Prediction</a><ul>
<li class="chapter" data-level="3.1.1" data-path="spatio-temporal-statistical-models.html"><a href="spatio-temporal-statistical-models.html#deterministic-prediction"><i class="fa fa-check"></i><b>3.1.1</b> Deterministic Prediction</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="spatio-temporal-statistical-models.html"><a href="spatio-temporal-statistical-models.html#regression-estimation"><i class="fa fa-check"></i><b>3.2</b> Regression Estimation</a></li>
<li class="chapter" data-level="3.3" data-path="spatio-temporal-statistical-models.html"><a href="spatio-temporal-statistical-models.html#gaussian-or-non-gaussian-errors"><i class="fa fa-check"></i><b>3.3</b> Gaussian or Non Gaussian Errors</a></li>
<li class="chapter" data-level="3.4" data-path="spatio-temporal-statistical-models.html"><a href="spatio-temporal-statistical-models.html#hierarchical-spatio-temporal-statistical-models"><i class="fa fa-check"></i><b>3.4</b> Hierarchical Spatio-Temporal Statistical Models</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html"><i class="fa fa-check"></i><b>4</b> Descriptive Spatio-Temporal Statistical Models</a><ul>
<li class="chapter" data-level="4.1" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#additive-measurement-error-and-process-models"><i class="fa fa-check"></i><b>4.1</b> Additive Measurement Error and Process models</a></li>
<li class="chapter" data-level="4.2" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#prediction-for-gaussian-data-and-processes."><i class="fa fa-check"></i><b>4.2</b> prediction for Gaussian Data and Processes.</a><ul>
<li class="chapter" data-level="4.2.1" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#spatio-temporal-covariance-functions"><i class="fa fa-check"></i><b>4.2.1</b> Spatio-Temporal Covariance Functions</a></li>
<li class="chapter" data-level="4.2.2" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#spatio-temporal-semivariograms"><i class="fa fa-check"></i><b>4.2.2</b> Spatio-Temporal Semivariograms</a></li>
<li class="chapter" data-level="4.2.3" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#gaussian-spatio-temporal-model-estimation"><i class="fa fa-check"></i><b>4.2.3</b> Gaussian Spatio-Temporal Model Estimation</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#random-effects-parameterizations"><i class="fa fa-check"></i><b>4.3</b> Random-Effects Parameterizations</a></li>
<li class="chapter" data-level="4.4" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#basis-function-representations"><i class="fa fa-check"></i><b>4.4</b> Basis-Function Representations</a><ul>
<li class="chapter" data-level="4.4.1" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#random-effects-with-spatio-temporal-basis-functionss"><i class="fa fa-check"></i><b>4.4.1</b> Random Effects with Spatio-Temporal Basis Functionss</a></li>
<li class="chapter" data-level="4.4.2" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#random-effects-with-spatial-basis-functions."><i class="fa fa-check"></i><b>4.4.2</b> Random Effects with Spatial Basis Functions.</a></li>
<li class="chapter" data-level="4.4.3" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#random-effects-with-temporal-basis-functions"><i class="fa fa-check"></i><b>4.4.3</b> Random Effects with Temporal Basis Functions</a></li>
<li class="chapter" data-level="4.4.4" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#confounding-of-fixed-effects-and-random-effects"><i class="fa fa-check"></i><b>4.4.4</b> Confounding of Fixed Effects and Random Effects</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#lab-package-frk"><i class="fa fa-check"></i><b>4.5</b> Lab: Package FRK</a></li>
<li class="chapter" data-level="4.6" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#lab-non-gaussian-spatio-temporal-gams-with-mgvv"><i class="fa fa-check"></i><b>4.6</b> Lab: Non-Gaussian Spatio-Temporal GAMs with mgvv</a></li>
<li class="chapter" data-level="4.7" data-path="descriptive-spatio-temporal-statistical-models.html"><a href="descriptive-spatio-temporal-statistical-models.html#non-gaussian-spatio-temporal-models-with-inla"><i class="fa fa-check"></i><b>4.7</b> Non-Gaussian Spatio-Temporal Models with INLA</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dynamic-spatio-temporal-models.html"><a href="dynamic-spatio-temporal-models.html"><i class="fa fa-check"></i><b>5</b> Dynamic Spatio-Temporal Models</a><ul>
<li class="chapter" data-level="5.1" data-path="dynamic-spatio-temporal-models.html"><a href="dynamic-spatio-temporal-models.html#general-dynamic-spatio-temporal-models"><i class="fa fa-check"></i><b>5.1</b> General Dynamic Spatio-Temporal Models</a><ul>
<li class="chapter" data-level="5.1.1" data-path="dynamic-spatio-temporal-models.html"><a href="dynamic-spatio-temporal-models.html#process-model"><i class="fa fa-check"></i><b>5.1.1</b> Process Model</a></li>
<li class="chapter" data-level="5.1.2" data-path="dynamic-spatio-temporal-models.html"><a href="dynamic-spatio-temporal-models.html#parameters"><i class="fa fa-check"></i><b>5.1.2</b> Parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dynamic-spatio-temporal-models.html"><a href="dynamic-spatio-temporal-models.html#latent-linear-gaussian-dstms"><i class="fa fa-check"></i><b>5.2</b> Latent Linear Gaussian DSTMs</a><ul>
<li class="chapter" data-level="5.2.1" data-path="dynamic-spatio-temporal-models.html"><a href="dynamic-spatio-temporal-models.html#linear-data-model-with-additive-gaussian-error"><i class="fa fa-check"></i><b>5.2.1</b> Linear Data Model with Additive Gaussian Error</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="dynamic-spatio-temporal-models.html"><a href="dynamic-spatio-temporal-models.html#process-and-parameter-dimension-reduction"><i class="fa fa-check"></i><b>5.3</b> Process and Parameter Dimension Reduction</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Spatio Temporal Statistics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="mapping-spatio-temporal-data" class="section level1">
<h1><span class="header-section-number">Chapter 2</span> Mapping Spatio Temporal Data</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="mapping-spatio-temporal-data.html#cb1-1"></a><span class="kw">library</span>(raster)</span>
<span id="cb1-2"><a href="mapping-spatio-temporal-data.html#cb1-2"></a><span class="kw">library</span>(sp)</span></code></pre></div>
<p>In this chapter, we talk about how to map spatio-temporal data in R.</p>
<div id="some-basic-class-regarding-spatio-temporal-data-in-r" class="section level2">
<h2><span class="header-section-number">2.1</span> Some basic class regarding spatio-temporal data in R</h2>
<p>Before moving on, let’s take a look at various spatial classes in R implemented in <span class="math inline">\(\texttt{sp}\)</span> package.
<img src="https://user-images.githubusercontent.com/36855000/88614160-1dca7480-d0ca-11ea-9a59-42233d9a8a5e.png" alt="classes list in sp library" />
Roughly, there are classes regarding points, grid, lines, polygons. For point referenced data which contain latitude and longitude, the class of data will be <span class="math inline">\(\texttt{SpatialPoints}\)</span> or <span class="math inline">\(\texttt{SpatialPointsDataFrame}\)</span>. For lattice data, the class will be regarding <span class="math inline">\(\texttt{Polygon}\)</span>, as their basic units are areas.</p>
<div id="spatialpoints" class="section level3">
<h3><span class="header-section-number">2.1.1</span> SpatialPoints</h3>
<p><span class="math inline">\(\texttt{SpatialPoints}\)</span> is a class with the spatial information. We can easily create this object using <span class="math inline">\(\texttt{sp}\)</span> package.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="mapping-spatio-temporal-data.html#cb2-1"></a><span class="kw">library</span>(sp)</span>
<span id="cb2-2"><a href="mapping-spatio-temporal-data.html#cb2-2"></a>xc =<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb2-3"><a href="mapping-spatio-temporal-data.html#cb2-3"></a>yc =<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb2-4"><a href="mapping-spatio-temporal-data.html#cb2-4"></a>xy =<span class="st"> </span><span class="kw">cbind</span>(xc,yc)</span>
<span id="cb2-5"><a href="mapping-spatio-temporal-data.html#cb2-5"></a>xy.sp =<span class="st"> </span><span class="kw">SpatialPoints</span>(xy)</span>
<span id="cb2-6"><a href="mapping-spatio-temporal-data.html#cb2-6"></a>xy.sp</span></code></pre></div>
<pre><code>## class       : SpatialPoints 
## features    : 10 
## extent      : 0.03, 0.94, 0.01, 0.64  (xmin, xmax, ymin, ymax)
## crs         : NA</code></pre>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="mapping-spatio-temporal-data.html#cb4-1"></a><span class="kw">coordinates</span>(xy.sp)</span></code></pre></div>
<pre><code>##         xc   yc
##  [1,] 0.49 0.47
##  [2,] 0.81 0.30
##  [3,] 0.03 0.01
##  [4,] 0.56 0.28
##  [5,] 0.86 0.45
##  [6,] 0.57 0.50
##  [7,] 0.40 0.43
##  [8,] 0.30 0.64
##  [9,] 0.03 0.03
## [10,] 0.94 0.31</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="mapping-spatio-temporal-data.html#cb6-1"></a><span class="co"># CRS(xy.sp)</span></span></code></pre></div>
<p>Note that because we do not include CRS, the last line returns error.</p>
</div>
<div id="spatialpointsdataframe" class="section level3">
<h3><span class="header-section-number">2.1.2</span> SpatialPointsDataFrame</h3>
<p><span class="math inline">\(\texttt{SpatialPointsDataFrame}\)</span> is a class with the spatial information and on top of that, some other attributes.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="mapping-spatio-temporal-data.html#cb7-1"></a>z1 =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">z1 =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">10</span>),<span class="dv">2</span>))</span>
<span id="cb7-2"><a href="mapping-spatio-temporal-data.html#cb7-2"></a>xy.spdf =<span class="st"> </span><span class="kw">SpatialPointsDataFrame</span>(xy.sp, z1)</span>
<span id="cb7-3"><a href="mapping-spatio-temporal-data.html#cb7-3"></a>xy.spdf</span></code></pre></div>
<pre><code>## class       : SpatialPointsDataFrame 
## features    : 10 
## extent      : 0.03, 0.94, 0.01, 0.64  (xmin, xmax, ymin, ymax)
## crs         : NA 
## variables   : 1
## names       :   z1 
## min values  : 0.11 
## max values  :    1</code></pre>
<p>Note the coordinates column in xy.spdf which is spatial information in xy.spdf dataset. Also, z1 column serves for other variables. Let’s get the summary for xy.spdf.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="mapping-spatio-temporal-data.html#cb9-1"></a><span class="kw">summary</span>(xy.spdf)</span></code></pre></div>
<pre><code>## Object of class SpatialPointsDataFrame
## Coordinates:
##     min  max
## xc 0.03 0.94
## yc 0.01 0.64
## Is projected: NA 
## proj4string : [NA]
## Number of points: 10
## Data attributes:
##        z1       
##  Min.   :0.110  
##  1st Qu.:0.540  
##  Median :0.800  
##  Mean   :0.692  
##  3rd Qu.:0.895  
##  Max.   :1.000</code></pre>
<p><span class="math inline">\(\texttt{SpatialPointsDataFrame}\)</span> can be created directly from data.frames by specifying which columns contain the coordinates.</p>
</div>
<div id="polygons-and-spatialpolygons" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Polygons and SpatialPolygons</h3>
<p>To grasp the concept of <span class="math inline">\(\texttt{Polygons}\)</span> class in R, let’s create a basic polygon.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="mapping-spatio-temporal-data.html#cb11-1"></a>Sr1 =<span class="st"> </span><span class="kw">Polygon</span>(<span class="kw">cbind</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>),<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">2</span>)))</span>
<span id="cb11-2"><a href="mapping-spatio-temporal-data.html#cb11-2"></a><span class="kw">class</span>(Sr1)</span></code></pre></div>
<pre><code>## [1] &quot;Polygon&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="mapping-spatio-temporal-data.html#cb13-1"></a>Srs1 =<span class="st"> </span><span class="kw">Polygons</span>(<span class="kw">list</span>(Sr1), <span class="st">&#39;s1&#39;</span>)</span>
<span id="cb13-2"><a href="mapping-spatio-temporal-data.html#cb13-2"></a><span class="kw">class</span>(Srs1)</span></code></pre></div>
<pre><code>## [1] &quot;Polygons&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="mapping-spatio-temporal-data.html#cb15-1"></a><span class="co"># returns error</span></span>
<span id="cb15-2"><a href="mapping-spatio-temporal-data.html#cb15-2"></a><span class="co"># Sp_s1 = SpatialPolygons(list(Sr1))</span></span></code></pre></div>
<p>Individual polygon is created with <span class="math inline">\(\texttt{Polygon}\)</span> function. After creating multiple Polygons, we can concatenate them through <span class="math inline">\(\texttt{Polygons}\)</span> function. Because <span class="math inline">\(\texttt{SpatialPolygons}\)</span> class only gets the <span class="math inline">\(\texttt{Polygons}\)</span> class, even a single polygon should be converted to <span class="math inline">\(\texttt{Polygons}\)</span> class for mapping the polygon.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="mapping-spatio-temporal-data.html#cb16-1"></a>Sp_s1 =<span class="st"> </span><span class="kw">SpatialPolygons</span>(<span class="kw">list</span>(Srs1))</span>
<span id="cb16-2"><a href="mapping-spatio-temporal-data.html#cb16-2"></a><span class="kw">class</span>(Sp_s1)</span></code></pre></div>
<pre><code>## [1] &quot;SpatialPolygons&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="mapping-spatio-temporal-data.html#cb18-1"></a><span class="kw">plot</span>(Sp_s1, <span class="dt">col=</span><span class="st">&#39;lightblue&#39;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>Therefore, to plot more than one polygons, we should follow the steps
* Create individual Polygon class
* Concatenate the created Polygon to make Polygons class
* Make SpatialPolygons class through Polygons class
* Plot SpatialPolygons class</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="mapping-spatio-temporal-data.html#cb19-1"></a><span class="co"># individual polygons</span></span>
<span id="cb19-2"><a href="mapping-spatio-temporal-data.html#cb19-2"></a>Sr1 =<span class="st"> </span><span class="kw">Polygon</span>(<span class="kw">cbind</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">1</span>,<span class="dv">2</span>),<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">2</span>)))</span>
<span id="cb19-3"><a href="mapping-spatio-temporal-data.html#cb19-3"></a>Sr2 =<span class="st"> </span><span class="kw">Polygon</span>(<span class="kw">cbind</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">5</span>),<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>)))</span>
<span id="cb19-4"><a href="mapping-spatio-temporal-data.html#cb19-4"></a>Sr3 =<span class="st"> </span><span class="kw">Polygon</span>(<span class="kw">cbind</span>(<span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">10</span>,<span class="dv">4</span>),<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">5</span>)))</span>
<span id="cb19-5"><a href="mapping-spatio-temporal-data.html#cb19-5"></a>Sr4 =<span class="st"> </span><span class="kw">Polygon</span>(<span class="kw">cbind</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">6</span>,<span class="dv">5</span>,<span class="dv">5</span>),<span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">4</span>)), <span class="dt">hole =</span> <span class="ot">TRUE</span>) <span class="co"># polygon with holes</span></span>
<span id="cb19-6"><a href="mapping-spatio-temporal-data.html#cb19-6"></a></span>
<span id="cb19-7"><a href="mapping-spatio-temporal-data.html#cb19-7"></a><span class="co"># concatenated polygons</span></span>
<span id="cb19-8"><a href="mapping-spatio-temporal-data.html#cb19-8"></a>Srs1 =<span class="st"> </span><span class="kw">Polygons</span>(<span class="kw">list</span>(Sr1), <span class="st">&quot;s1&quot;</span>)</span>
<span id="cb19-9"><a href="mapping-spatio-temporal-data.html#cb19-9"></a>Srs2 =<span class="st"> </span><span class="kw">Polygons</span>(<span class="kw">list</span>(Sr2), <span class="st">&quot;s2&quot;</span>)</span>
<span id="cb19-10"><a href="mapping-spatio-temporal-data.html#cb19-10"></a>Srs3 =<span class="st"> </span><span class="kw">Polygons</span>(<span class="kw">list</span>(Sr3, Sr4), <span class="st">&quot;s3/4&quot;</span>)</span>
<span id="cb19-11"><a href="mapping-spatio-temporal-data.html#cb19-11"></a>SpP_all =<span class="st"> </span><span class="kw">SpatialPolygons</span>(<span class="kw">list</span>(Srs1,Srs2,Srs3), <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb19-12"><a href="mapping-spatio-temporal-data.html#cb19-12"></a><span class="kw">plot</span>(SpP_all, <span class="dt">col =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">pbg=</span><span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="mapping-spatio-temporal-data.html#cb20-1"></a>SpP_<span class="dv">12</span> =<span class="st"> </span><span class="kw">SpatialPolygons</span>(<span class="kw">list</span>(Srs1, Srs2), <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span>
<span id="cb20-2"><a href="mapping-spatio-temporal-data.html#cb20-2"></a>SpP_<span class="dv">13</span> =<span class="st"> </span><span class="kw">SpatialPolygons</span>(<span class="kw">list</span>(Srs1, Srs3), <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span>
<span id="cb20-3"><a href="mapping-spatio-temporal-data.html#cb20-3"></a><span class="kw">plot</span>(SpP_<span class="dv">12</span>, <span class="dt">col=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="mapping-spatio-temporal-data.html#cb21-1"></a><span class="kw">plot</span>(SpP_<span class="dv">13</span>, <span class="dt">col=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-7-3.png" width="672" />
Note that when we concatenate with function <span class="math inline">\(\texttt{Polygons}\)</span>, it becomes one Polygon, so we cannot separte the two individual polygons, i.e.,</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="mapping-spatio-temporal-data.html#cb22-1"></a>Srs4 =<span class="st"> </span><span class="kw">Polygons</span>(<span class="kw">list</span>(Sr1, Sr2), <span class="st">&#39;s1/2&#39;</span>)</span>
<span id="cb22-2"><a href="mapping-spatio-temporal-data.html#cb22-2"></a>SpP_<span class="dv">12</span> =<span class="st"> </span><span class="kw">SpatialPolygons</span>(<span class="kw">list</span>(Srs4))</span>
<span id="cb22-3"><a href="mapping-spatio-temporal-data.html#cb22-3"></a><span class="kw">plot</span>(SpP_<span class="dv">12</span>, <span class="dt">col=</span><span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>That is, we can separate two polygons Srs1, Srs2 by specifying color argument. However, by binning two polygons to one polygon through <span class="math inline">\(\texttt{Polygons}\)</span> function, we cannot separate them by color any more.</p>
</div>
</div>
<div id="mapping-data-in-r" class="section level2">
<h2><span class="header-section-number">2.2</span> Mapping data in R</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="mapping-spatio-temporal-data.html#cb23-1"></a><span class="kw">library</span>(raster)</span>
<span id="cb23-2"><a href="mapping-spatio-temporal-data.html#cb23-2"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb23-3"><a href="mapping-spatio-temporal-data.html#cb23-3"></a><span class="kw">library</span>(rgeos)</span>
<span id="cb23-4"><a href="mapping-spatio-temporal-data.html#cb23-4"></a><span class="kw">library</span>(viridis)</span></code></pre></div>
<p>Before coloring on the map, it is required that we need <strong>raster</strong> on which we plot. For example, we can get the usa raster.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="mapping-spatio-temporal-data.html#cb24-1"></a>usa &lt;-<span class="st"> </span><span class="kw">getData</span>(<span class="st">&#39;GADM&#39;</span>, <span class="dt">country=</span><span class="st">&#39;usa&#39;</span>, <span class="dt">level=</span><span class="dv">2</span>)</span>
<span id="cb24-2"><a href="mapping-spatio-temporal-data.html#cb24-2"></a><span class="co"># ggplot() + geom_polygon(data=usa, aes(x=long, y=lat, group=group), fill=&#39;white&#39;, color=&#39;black&#39;)</span></span>
<span id="cb24-3"><a href="mapping-spatio-temporal-data.html#cb24-3"></a><span class="kw">class</span>(usa)</span></code></pre></div>
<pre><code>## [1] &quot;SpatialPolygonsDataFrame&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<p>Note that the class of usa is <span class="math inline">\(\texttt{SpatialPolygonsDataFrame}\)</span>. For korea raster, thanks to the link <a href="http://www.gisdeveloper.co.kr/?p=2332">here</a>, we can get raster for larger unit, smaller unit.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="mapping-spatio-temporal-data.html#cb26-1"></a>shp_dir =<span class="st"> &#39;/Users/shinbo/Desktop/Statistics/etc/coordinates/SIG_201703/TL_SCCO_SIG.shp&#39;</span></span>
<span id="cb26-2"><a href="mapping-spatio-temporal-data.html#cb26-2"></a>sigungu &lt;-<span class="st"> </span><span class="kw">shapefile</span>(shp_dir, <span class="dt">encoding=</span><span class="st">&#39;euc-kr&#39;</span>)</span>
<span id="cb26-3"><a href="mapping-spatio-temporal-data.html#cb26-3"></a><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_polygon</span>(<span class="dt">data=</span>sigungu, <span class="kw">aes</span>(<span class="dt">x=</span>long, <span class="dt">y=</span>lat, <span class="dt">group=</span>group), <span class="dt">fill=</span><span class="st">&#39;white&#39;</span>, <span class="dt">color=</span><span class="st">&#39;black&#39;</span>)</span></code></pre></div>
<pre><code>## Regions defined for each Polygons</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="mapping-spatio-temporal-data.html#cb28-1"></a><span class="kw">head</span>(sigungu)</span></code></pre></div>
<pre><code>##   SIG_CD    SIG_ENG_NM SIG_KOR_NM
## 0  11110     Jongno-gu     종로구
## 1  11140       Jung-gu       중구
## 2  11170    Yongsan-gu     용산구
## 3  11200  Seongdong-gu     성동구
## 4  11215   Gwangjin-gu     광진구
## 5  11230 Dongdaemun-gu   동대문구</code></pre>
<p>Note the SIG_CD and SIG_ENG_NM. Each name of SIG has its own number. This number should correspond to each region, on which we want to plot some values. We plot the result of 19th President Vote in korea.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="mapping-spatio-temporal-data.html#cb30-1"></a>data_dir =<span class="st"> &#39;/Users/shinbo/Desktop/Statistics/etc/data/result.csv&#39;</span></span>
<span id="cb30-2"><a href="mapping-spatio-temporal-data.html#cb30-2"></a>voting =<span class="st"> </span><span class="kw">read.csv</span>(data_dir, <span class="dt">fileEncoding=</span><span class="st">&#39;euc-kr&#39;</span>)</span>
<span id="cb30-3"><a href="mapping-spatio-temporal-data.html#cb30-3"></a><span class="kw">head</span>(voting)</span></code></pre></div>
<pre><code>##   Sido    Sigun    id  moon  hong   ahn   yoo  shim   etc  X1st X1st_C  X2nd
## 1 서울   종로구 11110 0.416 0.218 0.218 0.073 0.070 0.005 0.416   Moon 0.218
## 2 서울     중구 11140 0.412 0.217 0.235 0.071 0.060 0.005 0.412   Moon 0.235
## 3 서울   용산구 11170 0.393 0.239 0.217 0.080 0.066 0.004 0.393   Moon 0.239
## 4 서울   성동구 11200 0.428 0.200 0.226 0.078 0.064 0.004 0.428   Moon 0.226
## 5 서울   광진구 11215 0.441 0.194 0.221 0.072 0.069 0.004 0.441   Moon 0.221
## 6 서울 동대문구 11230 0.421 0.219 0.227 0.064 0.064 0.005 0.421   Moon 0.227
##   X2nd_C   gap final
## 1   Hong 0.198 0.416
## 2    Ahn 0.178 0.412
## 3   Hong 0.155 0.393
## 4    Ahn 0.203 0.428
## 5    Ahn 0.220 0.441
## 6    Ahn 0.194 0.421</code></pre>
<p>We get the voting result for each of sidogun and candidate. Now, let’s map the supporting rate of President Moon to see where he got the highest rate. We use <span class="math inline">\(\texttt{fortify}\)</span> function to make <span class="math inline">\(\texttt{SpatialPolygonDataFrame}\)</span> to <span class="math inline">\(\texttt{data.frame}\)</span>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="mapping-spatio-temporal-data.html#cb32-1"></a><span class="co">#gIsValid(sigungu)</span></span>
<span id="cb32-2"><a href="mapping-spatio-temporal-data.html#cb32-2"></a><span class="co">#sigungu = gBuffer(sigungu, byid = TRUE, width = 0)</span></span>
<span id="cb32-3"><a href="mapping-spatio-temporal-data.html#cb32-3"></a><span class="co">#gIsValid(sigungu)</span></span>
<span id="cb32-4"><a href="mapping-spatio-temporal-data.html#cb32-4"></a></span>
<span id="cb32-5"><a href="mapping-spatio-temporal-data.html#cb32-5"></a>sigungu =<span class="st"> </span><span class="kw">fortify</span>(sigungu, <span class="dt">region=</span><span class="st">&#39;SIG_CD&#39;</span>)</span></code></pre></div>
<pre><code>## SpP is invalid</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="mapping-spatio-temporal-data.html#cb34-1"></a>sigungu =<span class="st"> </span><span class="kw">merge</span>(sigungu, voting, <span class="dt">by=</span><span class="st">&#39;id&#39;</span>)</span>
<span id="cb34-2"><a href="mapping-spatio-temporal-data.html#cb34-2"></a></span>
<span id="cb34-3"><a href="mapping-spatio-temporal-data.html#cb34-3"></a>p =<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_polygon</span>(<span class="dt">data=</span>sigungu, <span class="kw">aes</span>(<span class="dt">x=</span>long, <span class="dt">y=</span>lat, <span class="dt">group=</span>group, <span class="dt">fill=</span>moon))</span>
<span id="cb34-4"><a href="mapping-spatio-temporal-data.html#cb34-4"></a>p  <span class="op">+</span><span class="st"> </span><span class="kw">scale_fill_gradient</span>(<span class="dt">low=</span><span class="st">&#39;white&#39;</span>, <span class="dt">high=</span><span class="st">&#39;#004ea2&#39;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>() <span class="op">+</span><span class="st"> </span><span class="kw">guides</span>(<span class="dt">fill=</span>F)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Let’s try different color using viridis package.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="mapping-spatio-temporal-data.html#cb35-1"></a>p <span class="op">+</span><span class="st"> </span><span class="kw">scale_fill_viridis</span>(<span class="dt">direction=</span><span class="op">-</span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>() <span class="op">+</span><span class="st"> </span><span class="kw">guides</span>(<span class="dt">fill=</span>F)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Now, we only look at moon’s support rate in seoul. First, select Gu’s in seoul by filtering</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="mapping-spatio-temporal-data.html#cb36-1"></a><span class="kw">library</span>(extrafont)</span></code></pre></div>
<pre><code>## Registering fonts with R</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="mapping-spatio-temporal-data.html#cb38-1"></a><span class="kw">theme_update</span>(<span class="dt">text=</span><span class="kw">element_text</span>(<span class="dt">family=</span><span class="st">&quot;HUJingo340&quot;</span>))</span>
<span id="cb38-2"><a href="mapping-spatio-temporal-data.html#cb38-2"></a>seoul =<span class="st"> </span>sigungu[sigungu<span class="op">$</span>id <span class="op">&lt;=</span><span class="st"> </span><span class="dv">11740</span>,]</span>
<span id="cb38-3"><a href="mapping-spatio-temporal-data.html#cb38-3"></a>gu_dir =<span class="st"> &#39;/Users/shinbo/Desktop/Statistics/etc/data/seoul_coordinates.csv&#39;</span></span>
<span id="cb38-4"><a href="mapping-spatio-temporal-data.html#cb38-4"></a>gu_text =<span class="st"> </span><span class="kw">read.csv</span>(gu_dir, <span class="dt">fileEncoding =</span> <span class="st">&#39;euc-kr&#39;</span>)</span>
<span id="cb38-5"><a href="mapping-spatio-temporal-data.html#cb38-5"></a></span>
<span id="cb38-6"><a href="mapping-spatio-temporal-data.html#cb38-6"></a>p =<span class="st"> </span><span class="kw">ggplot</span>() <span class="op">+</span><span class="st"> </span><span class="kw">geom_polygon</span>(<span class="dt">data=</span>seoul, <span class="kw">aes</span>(<span class="dt">x=</span>long, <span class="dt">y=</span>lat, <span class="dt">group=</span>group, <span class="dt">fill=</span>moon))</span>
<span id="cb38-7"><a href="mapping-spatio-temporal-data.html#cb38-7"></a>p  <span class="op">+</span><span class="st"> </span><span class="kw">scale_fill_gradient</span>(<span class="dt">low=</span><span class="st">&#39;white&#39;</span>, <span class="dt">high=</span><span class="st">&#39;#004ea2&#39;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">theme_void</span>() <span class="op">+</span><span class="st"> </span><span class="kw">labs</span>(<span class="dt">fill =</span> <span class="st">&quot;support rate of Moon&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb38-8"><a href="mapping-spatio-temporal-data.html#cb38-8"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">data =</span> gu_text,</span>
<span id="cb38-9"><a href="mapping-spatio-temporal-data.html#cb38-9"></a>            <span class="kw">aes</span>(<span class="dt">x =</span> 경도,</span>
<span id="cb38-10"><a href="mapping-spatio-temporal-data.html#cb38-10"></a>                <span class="dt">y =</span> 위도,</span>
<span id="cb38-11"><a href="mapping-spatio-temporal-data.html#cb38-11"></a>                <span class="dt">label =</span> 시군구명_영문))</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>

</div>
</div>



            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="spatio-temporal-statistical-models.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-Mapping-Spatio-Temporal-Data.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
